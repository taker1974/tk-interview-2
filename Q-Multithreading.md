# Многопоточность

## 1. Процесс и поток  

- Процесс: Изолированный экземпляр программы с собственным адресным пространством.  
- Поток (Thread): Легковесная единица выполнения внутри процесса. Потоки разделяют память процесса.

## 2. Многопоточность в Java  

- Параллельное выполнение нескольких потоков для повышения производительности.  
- Зачем: Распараллеливание задач (обработка запросов, асинхронные операции).

## 3. Создание и запуск потока  

- Наследование от `Thread` и переопределение `run()`.  
- Реализация `Runnable`/`Callable` и передача в `Thread` или пул потоков.  
- Запуск: `thread.start()` (не `run()`!).

## 4. Способы синхронизации  

- `synchronized` блоки/методы.  
- Локи (`ReentrantLock`, `StampedLock`).  
- Атомарные классы (`AtomicInteger`, `AtomicReference`).  
- `volatile` переменные.

## 5. Проблемы многопоточности  

- Состояние гонки (Race Condition).  
- Дэдлоки (Deadlock).  
- Голодание (Starvation).  
- Инверсия приоритетов.

## 6. Race Condition  

- Непредсказуемый результат из-за конкуренции потоков за ресурс.  
- Предотвращение: Синхронизация, атомарные операции, неизменяемые объекты.

## 7. Deadlock  

- Взаимная блокировка потоков из-за ожидания ресурсов.  
- Избежание:  
  - Упорядоченное получение локов.  
  - Использование `tryLock()` с таймаутом.

## 8. Классы и интерфейсы  

- `Thread`, `Runnable`, `Callable`, `Future`.  
- `ExecutorService`, `ThreadPoolExecutor`, `ForkJoinPool`.  
- `Lock`, `Semaphore`, `CountDownLatch`.

## 9. Методы синхронизации  

- `wait()`, `notify()`, `notifyAll()` (объекты мониторы).  
- `Lock.lock()/unlock()`.  
- `volatile` для видимости изменений между потоками.

## 10. Пул потоков (Thread Pool)  

- Набор переиспользуемых потоков для выполнения задач.  
- Создание:  

  ```java
  ExecutorService pool = Executors.newFixedThreadPool(4);
  pool.submit(() -> { ... });
  ```

## 11. ForkJoinPool  

- Специализированный пул для рекурсивных задач (разделяй и властвуй).  
- Особенности:  
  - Работает через `ForkJoinTask` (например, `RecursiveTask`).  
  - Использует алгоритм "work-stealing" для балансировки нагрузки.
